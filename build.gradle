/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */	
plugins {
    id 'java'
    id 'application'
    id 'java-library'
    
   id 'org.springframework.boot' version '2.2.1.RELEASE'
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
}
	sourceSets.main.java.srcDirs = ['src']
	mainClassName = 'com.andy.collector.Main'
	
sourceSets {
        main {
                java {
                        srcDirs= ["src/main/java"]
                }
                resources {
                        srcDirs= ["src/main/resources"]
                }
        }
        test {
		        java {
		            	srcDirs = ['src/test/java']
		         }
		         resources {
                        srcDirs= ["src/test/resources"]
                }
     }
}

repositories {
    jcenter() 
    mavenCentral()
}

dependencies {
	api 'org.apache.commons:commons-math3:3.6.1'
	
    implementation 'com.google.guava:guava:26.0-jre'  
	implementation 'commons-dbutils:commons-dbutils:1.7'
	
	//DATABASE driver dependencies
	compile group: 'org.mongodb', name: 'mongodb-driver-core', version: '3.11.2'
	
	// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web
	compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.0.RELEASE'
	compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb', version: '2.2.1.RELEASE'
	
	// https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui
	compile group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.4.0'
	
	// https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto
    compile group: 'org.springframework.security', name: 'spring-security-crypto', version: '3.1.0.RELEASE'
    
    // https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb
	compile group: 'org.springframework.data', name: 'spring-data-mongodb', version: '2.2.1.RELEASE'
    
	// https://mvnrepository.com/artifact/ma.glasnost.orika/orika-core
	compile group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4'
	
	// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test
	testCompile group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: '2.3.1.RELEASE'
	
    //testImplementation 'junit:junit:4.12' 
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'
}

task getDeps(type: Copy) {
  from sourceSets.main.runtimeClasspath
  into 'runtime/'
}

test {
    useJUnitPlatform()
}